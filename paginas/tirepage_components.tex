%% tirepage_components.tex — v7

\makeatletter
\@ifundefined{TireAndBrakesComponentsLoaded}{%
  \def\TireAndBrakesComponentsLoaded{1}%
}{%
  \endinput%
}
\makeatother

% =============================================================
% COLORES
% =============================================================
\providecolor{TFBlue}     {HTML}{0B4AA2}
\providecolor{TFHeadGray} {HTML}{D9D9D9}
\providecolor{TFSoftGray} {HTML}{ECECEC}
\providecolor{TFYellow}   {HTML}{F4BE16}
\providecolor{TFGreenBG}  {HTML}{DFF3D7}
\providecolor{TFGreenText}{HTML}{3D8C22}
\providecolor{TFText}     {HTML}{1D1D1D}
\providecolor{TFSectionBG}{HTML}{C0C0C0}

% =============================================================
% [A] TARJETA
% =============================================================
\newcommand{\TFCardBorder}{1.4pt}
\newcommand{\TFCardPadH}  {2.5mm}
\newcommand{\TFCardPadV}  {2.5mm}

% =============================================================
% [B] TÍTULO DE POSICIÓN
% =============================================================
\newcommand{\TFTitleSize}{15}
\newcommand{\TFTitleGap} {1.0mm}

% =============================================================
% [C] HEADER — azul 30% | gris 70%
% =============================================================
\newcommand{\TFHeaderH}       {14.0mm}
\newcommand{\TFHeaderLogoH}   {10.0mm}
\newcommand{\TFHeaderFont}    {7.2}
\newcommand{\TFHeaderLead}    {9.0}
\newcommand{\TFHeaderPadLeft} {3.5mm}
\newcommand{\TFHeaderPadRight}{2.5mm}
\newcommand{\TFHeaderPadV}    {1.5mm}

% =============================================================
% [D] MÉTRICAS — 5 columnas IGUALES
%     Ancho de cada col = (1 - 4*gap/linewidth) / 5
%     Con gap=0.4mm y linewidth~80mm: (80-1.6)/5/80 ≈ 0.196
%     Usamos 0.185 para dejar margen seguro
% =============================================================
\newcommand{\TFColW}            {0.185}  % ancho de CADA columna (las 5 iguales)
\newcommand{\TFMetricColGap}    {0.4mm}
\newcommand{\TFLabelH}          {9.5mm}
\newcommand{\TFValueH}          {8.5mm}
\newcommand{\TFMetricGap}       {0.0mm}
\newcommand{\TFMetricTitleFont} {6.4}
\newcommand{\TFMetricTitleLead} {7.6}
\newcommand{\TFMetricValueFont} {7.5}
\newcommand{\TFMetricValueLead} {9.0}

% =============================================================
% [F] BARRA FRENOS
% =============================================================
\newcommand{\TFSectionH}    {8.5mm}
\newcommand{\TFSectionFont} {11.5}
\newcommand{\TFSectionLead} {13.5}

% =============================================================
% [G] FILAS DE FRENOS   38+28+20+14 = 100
% =============================================================
\newcommand{\TFRowH}     {8.5mm}
\newcommand{\TFBrakeFont}{8.2}
\newcommand{\TFBrakeLead}{9.8}

% =============================================================
% [H] ESPACIADOS VERTICALES
% =============================================================
\newcommand{\TFGapAfterHeader}      {0.8mm}
\newcommand{\TFGapAfterMetrics}     {0.7mm}
\newcommand{\TFGapAfterSection}     {0.5mm}
\newcommand{\TFGapBetweenBrakeRows} {0.5mm}

% =============================================================
% COMANDOS
% =============================================================

\newcommand{\TFTitle}[1]{%
  {\centering\fontsize{\TFTitleSize}{17}\selectfont\bfseries #1\par}%
  \vspace{\TFTitleGap}%
}

% Header: hbox asegura 0 gap entre azul y gris
\newcommand{\TFHeader}[2]{%
  \noindent\hbox to \linewidth{%
    \tcbox[on line,enhanced,
      colback=TFBlue,colframe=TFBlue,
      boxrule=0pt,boxsep=0pt,arc=0mm,
      width=0.30\linewidth,height=\TFHeaderH,
      left=0mm,right=0mm,top=0mm,bottom=0mm,
      valign=center,halign=center
    ]{\includegraphics[
        height=\TFHeaderLogoH,
        width=0.88\dimexpr0.30\linewidth\relax,
        keepaspectratio,
        trim={6 3 6 3},clip]{#1}}%
    \tcbox[on line,enhanced,
      colback=TFHeadGray,colframe=TFHeadGray,
      boxrule=0pt,boxsep=0pt,arc=0mm,
      width=0.70\linewidth,height=\TFHeaderH,
      left=\TFHeaderPadLeft,right=\TFHeaderPadRight,
      top=\TFHeaderPadV,bottom=\TFHeaderPadV,
      valign=center,halign=left
    ]{\parbox{\dimexpr0.70\linewidth-\TFHeaderPadLeft-\TFHeaderPadRight\relax}{%
        \fontsize{\TFHeaderFont}{\TFHeaderLead}\selectfont\bfseries\color{TFText}%
        \raggedright #2}}%
  }%
}

% Celda métrica normal
\newcommand{\TFMetricCell}[2]{%
  \tcbox[enhanced,colback=TFYellow,colframe=TFYellow,boxrule=0pt,
    arc=1.6mm,sharp corners=south,
    width=\linewidth,height=\TFLabelH,
    left=0.3mm,right=0.3mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{\fontsize{\TFMetricTitleFont}{\TFMetricTitleLead}\selectfont
    \bfseries\shortstack[c]{#1}}%
  \par\vspace{\TFMetricGap}%
  \tcbox[enhanced,colback=TFSoftGray,colframe=TFSoftGray,boxrule=0pt,
    arc=1.6mm,sharp corners=north,
    width=\linewidth,height=\TFValueH,
    left=0.3mm,right=0.3mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{\fontsize{\TFMetricValueFont}{\TFMetricValueLead}\selectfont\bfseries #2}%
}

% Celda métrica con valor en verde
\newcommand{\TFMetricCellGreen}[2]{%
  \tcbox[enhanced,colback=TFYellow,colframe=TFYellow,boxrule=0pt,
    arc=1.6mm,sharp corners=south,
    width=\linewidth,height=\TFLabelH,
    left=0.3mm,right=0.3mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{\fontsize{\TFMetricTitleFont}{\TFMetricTitleLead}\selectfont
    \bfseries\shortstack[c]{#1}}%
  \par\vspace{\TFMetricGap}%
  \tcbox[enhanced,colback=TFSoftGray,colframe=TFSoftGray,boxrule=0pt,
    arc=1.6mm,sharp corners=north,
    width=\linewidth,height=\TFValueH,
    left=0.3mm,right=0.3mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{\fontsize{\TFMetricValueFont}{\TFMetricValueLead}\selectfont
    \bfseries\color{TFGreenText} #2}%
}

% Fila de frenos
\newcommand{\TFBrakeRow}[4]{%
  \noindent
  \tcbox[on line,enhanced,colback=TFYellow,colframe=TFYellow,
    boxrule=0pt,arc=1.5mm,
    width=0.380\linewidth,height=\TFRowH,
    left=0.8mm,right=0.8mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{{\fontsize{\TFBrakeFont}{\TFBrakeLead}\selectfont\bfseries #1}}%
  \tcbox[on line,enhanced,colback=TFGreenBG,colframe=TFGreenBG,
    boxrule=0pt,arc=1.5mm,
    width=0.270\linewidth,height=\TFRowH,
    left=0.8mm,right=0.8mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{{\fontsize{\TFBrakeFont}{\TFBrakeLead}\selectfont\bfseries\color{TFGreenText} #2}}%
  \tcbox[on line,enhanced,colback=TFYellow,colframe=TFYellow,
    boxrule=0pt,arc=1.5mm,
    width=0.210\linewidth,height=\TFRowH,
    left=0.8mm,right=0.8mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{{\fontsize{\TFBrakeFont}{\TFBrakeLead}\selectfont\bfseries #3}}%
  \tcbox[on line,enhanced,colback=TFGreenBG,colframe=TFGreenBG,
    boxrule=0pt,arc=1.5mm,
    width=0.140\linewidth,height=\TFRowH,
    left=0.8mm,right=0.8mm,top=0mm,bottom=0mm,
    valign=center,halign=center
  ]{{\fontsize{\TFBrakeFont}{\TFBrakeLead}\selectfont\bfseries\color{TFGreenText} #4}}%
}

% Tarjeta completa
\newcommand{\TFTireCard}[1]{%
  \par\noindent
  \begin{tcolorbox}[
    enhanced,
    colback=white,colframe=gray!40,
    boxrule=\TFCardBorder,arc=2.5mm,
    width=\linewidth,
    left=\TFCardPadH,right=\TFCardPadH,
    top=\TFCardPadV,bottom=\TFCardPadV
  ]
    %-- HEADER --
    \TFHeader{Goodyear.png}{WRANGLER ALL TERRAIN ADVENTURE W/KEVLAR 110T}%

    \vspace{\TFGapAfterHeader}%

    %-- 5 COLUMNAS IGUALES --
    \noindent
    \begin{minipage}[t]{\TFColW\linewidth}%
      \TFMetricCell{MEDIDA}{315/35/R21}%
    \end{minipage}\hspace{\TFMetricColGap}%
    \begin{minipage}[t]{\TFColW\linewidth}%
      \TFMetricCell{ÍNDICE DE\\VELOCIDAD}{210}%
    \end{minipage}\hspace{\TFMetricColGap}%
    \begin{minipage}[t]{\TFColW\linewidth}%
      \TFMetricCell{ÍNDICE\\DE CARGA}{210}%
    \end{minipage}\hspace{\TFMetricColGap}%
    \begin{minipage}[t]{\TFColW\linewidth}%
      \TFMetricCell{PSI}{25}%
    \end{minipage}\hspace{\TFMetricColGap}%
    \begin{minipage}[t]{\TFColW\linewidth}%
      \TFMetricCellGreen{PROFUNDIDAD\\DE BANDA}{3 mm}%
    \end{minipage}%

    \vspace{\TFGapAfterMetrics}%

    %-- BARRA FRENOS --
    \noindent\tcbox[
      enhanced,colback=TFSectionBG,colframe=TFSectionBG,
      boxrule=0pt,arc=1.5mm,
      width=\linewidth,height=\TFSectionH,
      left=0mm,right=0mm,top=0mm,bottom=0mm,
      valign=center,halign=center
    ]{{\fontsize{\TFSectionFont}{\TFSectionLead}\selectfont\bfseries\color{TFText}
        FRENOS, DISCOS Y TAMBORES}}%

    \vspace{\TFGapAfterSection}%
    \TFBrakeRow{Balatas/Tambores}{BUENA (>9MM)}{Desgaste}{8 mm}%

    \vspace{\TFGapBetweenBrakeRows}%
    \TFBrakeRow{Discos}{BUENA (>9MM)}{Desgaste}{9 mm}%

  \end{tcolorbox}%
  \par
}

\endinput