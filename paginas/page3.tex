%% page3.tex
%% (SOLO CONTENIDO — NO PONGAS \documentclass NI \usepackage AQUÍ)

% =========================
% Página 3: Amortiguadores y Bases
% =========================

% Estados por fila (0=sin seleccionar, 1=buena, 2=regular, 3=mala)
\newcommand{\ShockAmortDelDerEstado}{1}
\newcommand{\ShockAmortDelIzqEstado}{2}
\newcommand{\ShockAmortTraDerEstado}{3}
\newcommand{\ShockAmortTraIzqEstado}{1}

\newcommand{\ShockBaseDelDerEstado}{0}
\newcommand{\ShockBaseDelIzqEstado}{0}
\newcommand{\ShockBaseTraDerEstado}{0}
\newcommand{\ShockBaseTraIzqEstado}{0}

\newcommand{\ShockTitleBar}[1]{%
  \noindent\makebox[\textwidth][c]{%
    \begin{tcolorbox}[
      colback=gray!25,
      colframe=gray!25,
      width=\contentwidth,
      arc=1mm,
      boxrule=0pt,
      left=\padlr,
      right=\padlr,
      top=1mm,
      bottom=1mm
    ]
      \centering
      {\fontsize{15}{18}\selectfont \bfseries #1}
    \end{tcolorbox}%
  }%
}

\newcommand{\ShockGroupHeader}[2]{%
  \begin{tcolorbox}[
    enhanced,
    nobeforeafter,
    width=#1,
    height=7mm,
    colback=warningyellow,
    colframe=warningyellow,
    boxrule=0pt,
    arc=1.3mm,
    left=0mm,right=0mm,top=0mm,bottom=0mm,
    boxsep=0mm,
    valign=center,halign=center
  ]
    {\fontsize{10}{10.4}\selectfont\bfseries #2}
  \end{tcolorbox}%
}

\newcommand{\ShockStateHeaderCell}[2]{%
  \begin{tcolorbox}[
    enhanced,
    nobeforeafter,
    width=\linewidth,
    height=4.3mm,
    colback=#1,
    colframe=#1,
    boxrule=0pt,
    arc=0mm,
    left=0mm,right=0mm,top=0mm,bottom=0mm,
    boxsep=0mm,
    valign=center,halign=center
  ]
    {\color{white}\fontsize{7}{7.6}\selectfont\bfseries #2}
  \end{tcolorbox}%
}

\newcommand{\ShockRowLabel}[1]{%
  \begin{tcolorbox}[
    enhanced,
    nobeforeafter,
    width=\linewidth,
    height=7.2mm,
    colback=warningyellow,
    colframe=warningyellow,
    boxrule=0pt,
    arc=1.3mm,
    left=0mm,right=0mm,top=0mm,bottom=0mm,
    boxsep=0mm,
    valign=center,halign=center
  ]
    {\fontsize{9.8}{10}\selectfont\bfseries #1}
  \end{tcolorbox}%
}

\newcommand{\ShockBlankCell}{%
  \begin{tcolorbox}[
    enhanced,
    nobeforeafter,
    width=\linewidth,
    height=7.2mm,
    colback=gray!12,
    colframe=gray!12,
    boxrule=0pt,
    arc=1.3mm,
    left=0mm,right=0mm,top=0mm,bottom=0mm,
    boxsep=0mm,
    valign=center,halign=center
  ]\end{tcolorbox}%
}

\newcommand{\ShockDotCell}[1]{%
  \begin{tcolorbox}[
    enhanced,
    nobeforeafter,
    width=\linewidth,
    height=7.2mm,
    colback=gray!12,
    colframe=gray!12,
    boxrule=0pt,
    arc=1.3mm,
    left=0mm,right=0mm,top=0mm,bottom=0mm,
    boxsep=0mm,
    valign=center,halign=center
  ]
    \tikz\fill[#1] (0,0) circle (2.15mm);
  \end{tcolorbox}%
}

% #1 = estado (0..3): 0=sin seleccionar, 1=buena, 2=regular, 3=mala
\newcommand{\ShockStateTriplet}[1]{%
  \ifnum#1=1
    \ShockDotCell{green!65!black} & \ShockBlankCell & \ShockBlankCell%
  \else\ifnum#1=2
    \ShockBlankCell & \ShockDotCell{warningyellow} & \ShockBlankCell%
  \else\ifnum#1=3
    \ShockBlankCell & \ShockBlankCell & \ShockDotCell{red!85!black}%
  \else
    \ShockBlankCell & \ShockBlankCell & \ShockBlankCell%
  \fi\fi\fi
}

\ShockTitleBar{Amortiguadores y Bases}

\vspace{1.6mm}

\noindent\makebox[\textwidth][c]{%
\begin{minipage}{\contentwidth}
  {\kodemono\fontseries{sb}\fontsize{13}{14}\selectfont Inspección de Amortiguadores y Bases Delanteras}
\end{minipage}%
}

\vspace{2.4mm}

\noindent\makebox[\textwidth][c]{%
\begin{minipage}{\contentwidth}
  \setlength{\tabcolsep}{0pt}
  \renewcommand{\arraystretch}{1.05}
  \begin{tabular}{@{}p{0.18\linewidth}@{\hspace{1mm}}p{0.125\linewidth}@{\hspace{1mm}}p{0.125\linewidth}@{\hspace{1mm}}p{0.125\linewidth}@{\hspace{3mm}}p{0.125\linewidth}@{\hspace{1mm}}p{0.125\linewidth}@{\hspace{1mm}}p{0.125\linewidth}@{}}
    & \multicolumn{3}{c@{\hspace{3mm}}}{\ShockGroupHeader{0.385\linewidth}{AMORTIGUADORES}} & \multicolumn{3}{c}{\ShockGroupHeader{0.385\linewidth}{BASES}} \\
    & \ShockStateHeaderCell{green!65!black}{BUENA} & \ShockStateHeaderCell{warningyellow}{REGULAR} & \ShockStateHeaderCell{red!85!black}{MALA} & \ShockStateHeaderCell{green!65!black}{BUENA} & \ShockStateHeaderCell{warningyellow}{REGULAR} & \ShockStateHeaderCell{red!85!black}{MALA} \\

    \ShockRowLabel{DELANTERA D.} & \ShockStateTriplet{\ShockAmortDelDerEstado} & \ShockStateTriplet{\ShockBaseDelDerEstado} \\
    \ShockRowLabel{DELANTERA I.} & \ShockStateTriplet{\ShockAmortDelIzqEstado} & \ShockStateTriplet{\ShockBaseDelIzqEstado} \\
    \ShockRowLabel{TRASERA D.} & \ShockStateTriplet{\ShockAmortTraDerEstado} & \ShockStateTriplet{\ShockBaseTraDerEstado} \\
    \ShockRowLabel{TRASERA I.} & \ShockStateTriplet{\ShockAmortTraIzqEstado} & \ShockStateTriplet{\ShockBaseTraIzqEstado} \\
  \end{tabular}
\end{minipage}%
}
